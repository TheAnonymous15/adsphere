<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GigPochi - Smarter Gigs. Faster, Safer Pay.</title>
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <meta
      name="description"
      content="Join GigPochi – the platform built for Kenyan freelancers. Enjoy secure payments, no currency hassles, real ratings, and complete control of your work."
    />
    <meta name="author" content="GigPochi" />
    <meta
      property="og:title"
      content="GigPochi - Smarter Gigs. Faster, Safer Pay."
    />
    <meta
      property="og:description"
      content="Join GigPochi – the platform built for Kenyan freelancers. Enjoy secure payments, no currency hassles, real ratings, and complete control of your work."
    />
    <meta
      property="og:image"
      content="/assets/images/home/gig-pochi-meta-image.png"
    />
    <meta property="og:url" content="https://www.gigpochi.com" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="GigPochi - Smarter Gigs. Faster, Safer Pay."
    />
    <meta
      name="twitter:description"
      content="Join GigPochi – the platform built
    for Kenyan freelancers. Enjoy secure payments no currency hassles, real
    ratings, and complete control of your work."
    />
    <link
      rel="stylesheet"
      src="https://cdn.tailwindcss.com"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .fade-in {
        animation: fadeIn 1.2s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .bg-primary {
        background-color: #7bed9f;
      }
      .text-primary {
        color: #7bed9f;
      }
      .hover\:bg-primary-dark:hover {
        background-color: #4338ca;
      }
    </style>
  </head>
  <body class="text-gray-900 bg-gradient-to-br from-white to-gray-100">
    <div class="min-h-screen flex items-center justify-center">
      <div
        class="flex flex-col lg:flex-row items-center justify-between w-full max-w-screen-xl mx-auto px-4 lg:px-8 py-10 gap-10 lg:gap-16 fade-in"
      >
        <!-- Left Section -->
        <div class="flex-1 max-w-2xl text-center lg:text-left">
          <h1
            class="text-3xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 mb-4"
          >
            Smarter Gigs. Faster, Safer Pay.
          </h1>
          <p class="text-lg md:text-xl text-gray-600 mb-6">
            Join <span class="font-semibold text-primary">GigPochi</span> – the
            platform built for Kenyan freelancers. Enjoy secure payments, no
            currency hassles, real ratings, and complete control of your work.
          </p>

          <!-- Social Proof -->
          <div
            class="flex items-center justify-center lg:justify-start mb-6 space-x-4"
          >
            <div class="flex -space-x-3">
              <img
                class="w-10 h-10 rounded-full border-2 border-white"
                src="https://i.pravatar.cc/40?img=1"
              />
              <img
                class="w-10 h-10 rounded-full border-2 border-white"
                src="https://i.pravatar.cc/40?img=2"
              />
              <img
                class="w-10 h-10 rounded-full border-2 border-white"
                src="https://i.pravatar.cc/40?img=3"
              />
              <img
                class="w-10 h-10 rounded-full border-2 border-white"
                src="https://i.pravatar.cc/40?img=4"
              />
              <img
                class="w-10 h-10 rounded-full border-2 border-white"
                src="https://i.pravatar.cc/40?img=5"
              />
            </div>
            <p class="text-gray-800 font-bold">300+ Gigworkers</p>
          </div>

          <!-- Form -->
          <div id="formWrapper" class="w-full max-w-md mx-auto lg:mx-0">
            <form
              id="waitlistForm"
              class="flex flex-col gap-3 bg-white rounded-3xl p-4 shadow"
            >
              <input
                type="email"
                id="email"
                placeholder="Enter your email"
                class="w-full px-4 py-3 rounded-3xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-gray-800"
                required
              />
              <button
                type="submit"
                id="submitBtn"
                class="bg-primary py-3 px-6 font-semibold text-gray-800 rounded-3xl hover:bg-gray-600 hover:text-white flex items-center justify-center"
              >
                <span id="btnText">Join Waitlist</span>
                <svg
                  id="loader"
                  class="hidden w-5 h-5 ml-2 text-gray-800 animate-spin"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <circle
                    class="opacity-25"
                    cx="12"
                    cy="12"
                    r="10"
                    stroke="currentColor"
                    stroke-width="4"
                  ></circle>
                  <path
                    class="opacity-75"
                    fill="currentColor"
                    d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
                  ></path>
                </svg>
              </button>
            </form>

            <!-- Success Message -->
            <div
              id="successMessage"
              class="hidden flex flex-col items-center mt-6 p-6 rounded-3xl bg-white shadow"
            >
              <svg
                class="w-12 h-12 text-green-500 mb-3"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9 12l2 2l4-4m6 2a9 9 0 11-18 0a9 9 0 0118 0z"
                />
              </svg>
              <h2 class="text-xl font-bold text-gray-800">
                You're on the waitlist!
              </h2>
              <p class="text-gray-600 mt-2">Thanks for joining GigPochi.</p>
              <button
                id="shareButton"
                class="mt-4 px-4 py-2 bg-primary text-gray-800 font-semibold rounded-2xl hover:bg-gray-600 hover:text-white"
              >
                Share with Friends
              </button>
            </div>
          </div>
        </div>

        <!-- Right Image Section -->
        <div class="flex-1 flex items-center justify-center">
          <div
            class="w-full max-w-md lg:max-w-lg xl:max-w-xl bg-gray-200 rounded-3xl shadow-lg overflow-hidden"
          >
            <img
              src="assets/images/home/gig-pochi-illustration.png"
              alt="App concept"
              class="w-full h-auto object-cover"
            />
          </div>
        </div>
      </div>
    </div>

    <script>
      const form = document.getElementById("waitlistForm");
      const submitBtn = document.getElementById("submitBtn");
      const loader = document.getElementById("loader");
      const btnText = document.getElementById("btnText");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const email = document.getElementById("email").value;

        submitBtn.disabled = true;
        loader.classList.remove("hidden");
        btnText.textContent = "Submitting...";

        try {
          const res = await fetch(
            "https://waitlist-backend-756y.onrender.com/waitlist",
            {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email }),
            }
          );

          const data = await res.json();

          if (res.ok) {
            document.getElementById("waitlistForm").classList.add("hidden");
            document
              .getElementById("successMessage")
              .classList.remove("hidden");
          } else {
            alert(data.message || "Something went wrong!");
          }
        } catch (err) {
          console.error(err);
          alert("Error submitting email. Please try again.");
        } finally {
          submitBtn.disabled = false;
          loader.classList.add("hidden");
          btnText.textContent = "Join Waitlist";
        }
      });

      document
        .getElementById("shareButton")
        .addEventListener("click", async () => {
          const shareData = {
            title: "Join GigPochi Waitlist",
            text: "I just joined GigPochi! Smarter gigs. Faster, safer pay. Join me!",
            url: "https://www.gigpochi.com",
          };

          if (navigator.share) {
            try {
              await navigator.share(shareData);
            } catch (err) {
              console.error("Share failed:", err);
            }
          } else {
            navigator.clipboard.writeText(shareData.url);
            alert("Link copied to clipboard!");
          }
        });
    </script>
  </body>
</html>
